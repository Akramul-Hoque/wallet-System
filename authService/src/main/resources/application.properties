userservice.url=http://localhost:8083

# JWT settings
jwt.secret=verySecretChangeMe
jwt.expiration-ms=3600000

# Use uppercase name so gateway lb://AUTH-SERVICE matches
spring.application.name=AUTH-SERVICE
server.port=8084

# Eureka Client Configuration (use compose service name inside Docker)
# Use environment variable EUREKA_SERVER_URL or default to service-registry
eureka.client.service-url.defaultZone=${EUREKA_SERVER_URL:http://service-registry:8761/eureka/}
eureka.instance.prefer-ip-address=true
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# Ensure forwarded headers are considered (so swagger servers reflect gateway)
server.forward-headers-strategy=${SERVER_FORWARD_HEADERS_STRATEGY:framework}

# Configure swagger-ui to use proxied docs URL when accessed via gateway
springdoc.swagger-ui.urls[0].name=Auth API (proxied)
springdoc.swagger-ui.urls[0].url=/auth/v3/api-docs

# SpringDoc (OpenAPI)
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.pathsToMatch=/api/**
# serve the OpenAPI JSON at the default v3 path
springdoc.api-docs.path=/v3/api-docs
# serve the swagger UI at the default path
springdoc.swagger-ui.path=/swagger-ui.html

spring.cloud.config.import-check.enabled=false
